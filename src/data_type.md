这篇文章通过一系列图表详细展示了构建自定义区块链所需的数据结构 (Structs)，这些图表清晰地展示了各个结构体之间的关系，以及每个结构体的字段和数据类型。

**1. 区块结构 (Block):**

* 图 3.1 展示了 `Block`  结构体的组成：
  - `timestamp`:  时间戳，表示区块创建时间，数据类型为 `i64`。
  - `pre_block_hash`:   前一个区块的哈希值，数据类型为 `String`。
  - `hash`:   当前区块的哈希值，数据类型为 `String`。
  - `transactions`:   交易列表，数据类型为 `Vec<Transaction>`。
  - `nonce`:   随机数，用于 Proof of Work 算法，数据类型为 `i64`。
  - `height`:   区块高度，表示区块在区块链中的位置，数据类型为 `usize`。

**2. 交易结构 (Transaction):**

* 图 3.2 展示了 `Transaction`  结构体的组成：
  - `id`:   交易 ID，数据类型为 `Vec<u8>`。
  - `vin`:   交易输入列表，数据类型为 `Vec<TXInput>`。
  - `vout`:   交易输出列表，数据类型为 `Vec<TXOutput>`。

**3. 交易输入结构 (TXInput):**

* 图 3.3 展示了 `TXInput`  结构体的组成：
  - `txid`:   交易 ID，数据类型为 `Vec<u8>`。
  - `vout`:   交易输出索引，数据类型为 `usize`。
  - `signature`:   签名，数据类型为 `Vec<u8>`。
  - `pub_key`:   公钥，数据类型为 `Vec<u8>`。

**4. 交易输出结构 (TXOutput):**

* 图 3.4 展示了 `TXOutput`  结构体的组成：
  - `value`:   交易金额，数据类型为 `i32`。
  - `pub_key_hash`:   公钥哈希值，数据类型为 `Vec<u8>`。

**5. 区块链结构 (Blockchain):**

* 图 3.5 展示了区块链的结构， 包括:
  - `tip_hash`:  最后一个区块的哈希值。
  - `db`:  存储整个区块链的数据库。

**6. 区块链钱包结构 (Wallet):**

* 图 3.6  展示了区块链钱包的结构：
  - 存储余额信息。
  - 使用 PKCS8 格式存储私钥信息。

**7. 节点结构 (Node):**

* 图 3.7  展示了节点的结构:
  - `address`:  节点地址，可以是 IP 地址或端口号，数据类型为 `String`。

**8. 服务器结构 (Server):**

* 图 3.8  展示了服务器的结构：
  - 服务器包含了整个区块链的数据。

**9. 工作量证明结构 (ProofOfWork):**

* 图 3.9  展示了 `ProofOfWork`  结构体的组成：
  - `block`:  要进行挖矿的区块，数据类型为 `Block`。
  - `target`:  目标哈希值，数据类型为 `BigInt`。

**总结：**

这些图表清晰地展示了构建自定义区块链所需的数据结构， 以及它们之间的关系。 通过理解这些数据结构， 读者可以更好地理解区块链的工作原理， 并为后续的代码实现打下基础。
